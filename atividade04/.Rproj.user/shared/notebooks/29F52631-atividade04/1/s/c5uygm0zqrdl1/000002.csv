"0","retornos <- dados %>%"
"0","  mutate(esperadoA = prob * txRetornoA,"
"0","         esperadoB = prob * txRetornoB) %>%"
"0","  summarise(tresperadoA = sum(esperadoA),"
"0","            tresperadoB = sum(esperadoB),"
"0","            dsA = sqrt(sum( (txRetornoA - tresperadoA )^2 * prob ) ),"
"0","            dsB = sqrt(sum( (txRetornoB - tresperadoB )^2 * prob ) ),"
"0","            covAB = sum((txRetornoA - tresperadoA) * ( txRetornoB - tresperadoB) * prob),"
"0","            corrAB = covAB / (dsA * dsB))"
